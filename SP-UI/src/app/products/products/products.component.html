<div class="container">
  <app-authorized [role]="'admin'">
    <ng-container authorized>

      <h3 class="mb-4">Products</h3>

      <a class="btn btn-primary" routerLink="/products/create">Create Product</a>

      <table class="table table-hover">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Product</th>
            <th scope="col">Image</th>
            <th scope="col">Category</th>
            <th scope="col">Department</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody>

          <tr *ngFor="let product of products; let i = index">
            <td scope="row">{{i + 1}}</td>
            <td>{{product.name}}</td>
            <td><img [src]="product.image" alt="Image not found"></td>
            <td>{{product.categoryName}}</td>
            <td>{{product.departmentName}}</td>
            <td>
              <div class="actions">
                <a class="btn btn-primary" routerLink="/products/edit/{{product.id}}">Edit</a>
                <a class="btn btn-danger" [swal]="{title: 'Please confirm', 
                  text: 'Are you sure you want to delete this Product?', showCancelButton: true}"
                  (confirm)="delete(product.id)">Delete</a>
              </div>
            </td>
          </tr>
          
        </tbody>
      </table>

      <a class="btn btn-dark" routerLink="/management-dashboard">Return</a>

      <div class="loading">
        <div class="spinner-grow" role="status" *ngIf="products.length <= 0"></div>
      </div>
    </ng-container>
  </app-authorized>
</div>